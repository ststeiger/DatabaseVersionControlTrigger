
sp_configure 'clr enabled', 1;
RECONFIGURE;


CREATE ASSEMBLY DelayedRowFunctionAssembly
FROM 'C:\Path\To\Your\Assembly.dll'
WITH PERMISSION_SET = SAFE;


EXEC sp_add_trusted_assembly 0x4B5CBBDD5BDFCD3EB3DF43A24D1EA83CC0A48394BA9A2D345CFF7F411A59FD155D09BB53BBBB085842C4F687F15B113435ADC8A05E1C894E34A83B48A3A1234C, N'DelayedRowFunctionAssembly'; 
-- EXEC sp_drop_trusted_assembly 0x4B5CBBDD5BDFCD3EB3DF43A24D1EA83CC0A48394BA9A2D345CFF7F411A59FD155D09BB53BBBB085842C4F687F15B113435ADC8A05E1C894E34A83B48A3A1234C; 


-- DROP ASSEMBLY DelayedRowFunctionAssembly 


CREATE ASSEMBLY DelayedRowFunctionAssembly 
-- FROM N'D:\stefan.steiger\Documents\Visual Studio 2022\gitlab\LetsEncryptGatekeeper\DelayedRowFunctionAssembly\bin\Debug\DelayedRowFunctionAssembly.dll' 
FROM 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C01030067E420880000000000000000E00022200B01300000160000000800000000000062340000002000000040000000000010002000000002000004000000000000000400000000000000008000000002000000000000030040850000100000100000000010000010000000000000100000000000000000000000103400004F000000004000000804000000000000000000000000000000000000006000000C00000030330000380000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E7465787400000068140000002000000016000000020000000000000000000000000000200000602E7273726300000008040000004000000006000000180000000000000000000000000000400000402E72656C6F6300000C0000000060000000020000001E00000000000000000000000000004000004200000000000000000000000000000000443400000000000048000000020005001C2300001410000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001E027B010000042A2202037D010000042A1E027B020000042A2202037D020000042A1E027B030000042A2202037D030000042A8602281A00000A00000203280200000600020428040000060002052806000006002A000000133002003C00000001000011000274020000020A03066F01000006731B00000A811400000104066F03000006731B00000A811400000105066F05000006731C00000A81150000012A221FFE730B0000062A2202281A00000A002A7E02281A00000A0002037D0400000402281D00000A6F1E00000A7D060000042A00001B3002002100000002000011027B040000040A061FFD2E082B0006172E022B0C00DE0702280E000006DC2B002A000000011000000200150002170007000000001B3006001801000003000011027B040000040B072C082B0007172E042B072B0C38B5000000160ADDF600000002157D040000040002230000000000001440281F00000A7D0700000402732000000A25171F64720100007073070000066F2100000A00251820C8000000720D00007073070000066F2100000A002519202C010000721B00007073070000066F2100000A007D080000040002027B080000046F2200000A7D09000004021FFD7D040000042B4502027C09000004282300000A7D0A0000040002027B0A0000047D0500000402177D04000004170ADE48021FFD7D04000004027B07000004282400000A000002147D0A000004027C09000004282500000A2DAE02280E00000600027C09000004FE150400001B160ADE0802280C00000600DC062A411C000004000000000000000E0100000E01000008000000000000006A02157D04000004027C09000004FE160400001B6F1200000A002A1E027B050000042A1A732600000A7A1E027B050000042A0000133002003000000004000011027B040000041FFE331D027B06000004281D00000A6F1E00000A330B02167D04000004020A2B0716730B0000060A062A1E0228120000062A42534A4201000100000000000C00000076342E302E33303331390000000005006C00000094050000237E0000000600000007000023537472696E677300000000000D00002800000023555300280D0000100000002347554944000000380D0000DC02000023426C6F6200000000000000020000015717A20B0902000000FA0133001600000100000022000000040000000A000000130000000B0000000500000026000000230000000400000002000000050000000800000007000000040000000100000002000000010000000000AF030100000000000600E50260050600520360050600D10122050F00800500000600140239040600C802390406009402390406003903390406000503390406001E03390406002B0239040600000241050600C30141050600770239040600460287030600B705CE030600A80160050600860122050600E50122050A0056008F050A00A1038F050A00B30284040A004401840406005301A40506005F01CE0306009F04A4050600330099000600250099000600EB03CE030600410099007B001105000006005F0222050600E800760306005E04CE03000000007B000000000001000100010010007404E506410001000100010010004B04E5064100040008000301100011000000410004000B000100F300960001002801960001000B01990001009D0196000100C3069C000100C8009600010001009F0001005F00A30001006A00AB0001007100B3005020000000008608D503520001005820000000008608E00301000100612000000000860814045200020069200000000086082304010002007220000000008608F403B70003007A2000000000860804041000030083200000000086181C05BB000400A820000000009600D906C2000700F020000000009600BE05D0000B00F9200000000086181C0506000B0002210000000086181C0501000B00242100000000E1016B0106000C00642100000000E101D00620000C00A422000000008100480006000C00BF2200000000E10956062F000C00C72200000000E101CC0506000C00CE2200000000E10998062F000C00D82200000000E101AB04D5000C00142300000000E101EF0442000C0000000100700300000100700300000100700300000100E106000002003204000003007E0400000100AB0302000200E403020003002704020004000804000001009D0104000A000400610004000600040065000400690009001C05010011001C05060019001C050A0029001C05100031001C05100039001C05100041001C05100049001C05100051001C05100059001C05100061001C05150069001C05100071001C05100079001C05100089001C05060099001C051A00B1001C050600C9007E010600D100D00620000C00B7062A00D100EB050600D100B7062F0014000E053900C1000E05420001011C05060081001C050600A1001C050100A9001C0510000901DD004C000901B4005200E90035055F001C001C0506001C00EF006C001C000E0572002400B7062A000901780482002400D006200011011C05060020007B00D70121007B00D70121008300D1022E000B00E9002E001300F2002E001B0011012E0023001A012E002B003A012E0033003A012E003B003A012E0043001A012E004B0040012E0053003A012E005B003A012E00630058012E006B0082012E0073008F0140007B00D70141007B00D70141008300D10260007B00D70161007B00D70161008300D10280007B00D70183007B00D701A0007B00D701C0007B00D70120018B00DC016001CB00D7018001CB00D701E001CB00D7010002CB00D7012002CB00D7014002CB00D7016002CB00D701470056005A00880002000100040004000000E403DD0000002704DD0000000804E1000000F105E50000002F06E50002000100030001000200030002000300050001000400050002000500070001000600070002000F000900020011000B0004001800250004001A00270004001E002900040020002B00040022002D00040024002F000400260031002400330065007B00048000000100000000000000000000000000E50600000400000000000000000000008D009000000000000400000000000000000000008D00840000000000040003000000003C64656C617954696D653E355F5F31003C44656C6179656453656C6563743E645F5F310049456E756D657261626C6560310049456E756D657261746F726031004C6973746031003C3E6D5F5F46696E616C6C79310053716C496E743332003C646174613E355F5F32003C3E735F5F33003C726F773E355F5F34003C4D6F64756C653E0053797374656D2E44617461006D73636F726C69620053797374656D2E436F6C6C656374696F6E732E47656E65726963006765745F4D616E616765645468726561644964003C3E6C5F5F696E697469616C5468726561644964006765745F43757272656E7454687265616400416464003C526F774E756D3E6B5F5F4261636B696E674669656C64003C4F74686572436F6C756D6E3E6B5F5F4261636B696E674669656C64003C596F7572436F6C756D6E3E6B5F5F4261636B696E674669656C6400446174614163636573734B696E640049456E756D657261626C650049446973706F7361626C650053797374656D2E49446973706F7361626C652E446973706F736500446562756767657242726F777361626C655374617465003C3E315F5F737461746500436F6D70696C657247656E65726174656441747472696275746500477569644174747269627574650044656275676761626C6541747472696275746500446562756767657242726F777361626C6541747472696275746500436F6D56697369626C6541747472696275746500417373656D626C795469746C6541747472696275746500417373656D626C7954726164656D61726B417474726962757465005461726765744672616D65776F726B41747472696275746500446562756767657248696464656E41747472696275746500417373656D626C7946696C6556657273696F6E41747472696275746500417373656D626C79436F6E66696775726174696F6E4174747269627574650053716C46756E6374696F6E41747472696275746500417373656D626C794465736372697074696F6E41747472696275746500436F6D70696C6174696F6E52656C61786174696F6E7341747472696275746500417373656D626C7950726F6475637441747472696275746500417373656D626C79436F7079726967687441747472696275746500417373656D626C79436F6D70616E794174747269627574650052756E74696D65436F6D7061746962696C6974794174747269627574650076616C75650053797374656D2E546872656164696E670053797374656D2E52756E74696D652E56657273696F6E696E670053716C537472696E67006F626A0044656C61796564526F7746756E6374696F6E417373656D626C792E646C6C0053797374656D006765745F526F774E756D007365745F526F774E756D0054696D655370616E006765745F4F74686572436F6C756D6E007365745F4F74686572436F6C756D6E006765745F596F7572436F6C756D6E007365745F596F7572436F6C756D6E00636F6C756D6E0053797374656D2E5265666C656374696F6E0044656C61796564526F7746756E6374696F6E004E6F74537570706F72746564457863657074696F6E00466F6F00536C656570006F74686572004D6963726F736F66742E53716C5365727665722E5365727665720049456E756D657261746F720053797374656D2E436F6C6C656374696F6E732E47656E657269632E49456E756D657261626C653C53797374656D2E4F626A6563743E2E476574456E756D657261746F720053797374656D2E436F6C6C656374696F6E732E49456E756D657261626C652E476574456E756D657261746F72002E63746F720053797374656D2E446961676E6F73746963730046726F6D5365636F6E64730053797374656D2E52756E74696D652E496E7465726F7053657276696365730053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300446562756767696E674D6F6465730053797374656D2E446174612E53716C54797065730053797374656D2E436F6C6C656374696F6E73004F626A6563740044656C6179656453656C6563740053797374656D2E436F6C6C656374696F6E732E49456E756D657261746F722E52657365740053797374656D2E436F6C6C656374696F6E732E47656E657269632E49456E756D657261746F723C53797374656D2E4F626A6563743E2E43757272656E740053797374656D2E436F6C6C656374696F6E732E49456E756D657261746F722E43757272656E740053797374656D2E436F6C6C656374696F6E732E47656E657269632E49456E756D657261746F723C53797374656D2E4F626A6563743E2E6765745F43757272656E740053797374656D2E436F6C6C656374696F6E732E49456E756D657261746F722E6765745F43757272656E74003C3E325F5F63757272656E74004D6F76654E6578740046696C6C526F7700726F770044656C61796564526F7746756E6374696F6E417373656D626C7900000B46006900720073007400000D5300650063006F006E006400000B540068006900720064000000BF41D66153E72444B24CEE216559302C00042001010803200001052001011111042001010E0420010102052001011149032000020515126D011C04200013000320001C05151271011C08200015126D011300042000126904070112080500001280850320000803070108040702020805000111750D0615127901120805200101130008200015117D0113000615117D011208050001011175040701121008B77A5C561934E08902060802060E02061C030611750706151279011208070615117D011208030612080320000E0620030108080E0D0004011C101151101151101155040000126107200015126D011C032800080328000E0328001C0801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F7773010801000701000000001F01001A44656C61796564526F7746756E6374696F6E417373656D626C79000005010000000017010012436F7079726967687420C2A920203230323400002901002430336466356463652D376339392D343839372D613761312D36333936356262663137353500000C010007312E302E302E3000004701001A2E4E45544672616D65776F726B2C56657273696F6E3D76342E300100540E144672616D65776F726B446973706C61794E616D65102E4E4554204672616D65776F726B2034040100000080F3010003005455794D6963726F736F66742E53716C5365727665722E5365727665722E446174614163636573734B696E642C2053797374656D2E446174612C2056657273696F6E3D342E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D623737613563353631393334653038390A4461746141636365737301000000540E1146696C6C526F774D6574686F644E616D650746696C6C526F77540E0F5461626C65446566696E6974696F6E35526F774E756D20494E542C20596F7572436F6C756D6E20494E542C204F74686572436F6C756D6E204E564152434841522831303029080100000000000000000000000000272700A30000000002000000A8000000683300006815000000000000000000000000000010000000000000000000000000000000525344537B40B690118D1C4995E99341050DA62F01000000443A5C73746566616E2E737465696765725C446F63756D656E74735C56697375616C2053747564696F20323032325C6769746C61625C4C657473456E6372797074476174656B65657065725C44656C61796564526F7746756E6374696F6E417373656D626C795C6F626A5C44656275675C44656C61796564526F7746756E6374696F6E417373656D626C792E706462003834000000000000000000005234000000200000000000000000000000000000000000000000000044340000000000000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF250020001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100000001800008000000000000000000000000000000100010000003000008000000000000000000000000000000100000000004800000058400000AC0300000000000000000000AC0334000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100000001000000000000000100000000003F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B0040C030000010053007400720069006E006700460069006C00650049006E0066006F000000E802000001003000300030003000300034006200300000001A000100010043006F006D006D0065006E007400730000000000000022000100010043006F006D00700061006E0079004E0061006D00650000000000000000005E001B000100460069006C0065004400650073006300720069007000740069006F006E0000000000440065006C00610079006500640052006F007700460075006E006300740069006F006E0041007300730065006D0062006C00790000000000300008000100460069006C006500560065007200730069006F006E000000000031002E0030002E0030002E00300000005E001F00010049006E007400650072006E0061006C004E0061006D0065000000440065006C00610079006500640052006F007700460075006E006300740069006F006E0041007300730065006D0062006C0079002E0064006C006C00000000004800120001004C006500670061006C0043006F007000790072006900670068007400000043006F0070007900720069006700680074002000A90020002000320030003200340000002A00010001004C006500670061006C00540072006100640065006D00610072006B007300000000000000000066001F0001004F0072006900670069006E0061006C00460069006C0065006E0061006D0065000000440065006C00610079006500640052006F007700460075006E006300740069006F006E0041007300730065006D0062006C0079002E0064006C006C000000000056001B000100500072006F0064007500630074004E0061006D00650000000000440065006C00610079006500640052006F007700460075006E006300740069006F006E0041007300730065006D0062006C00790000000000340008000100500072006F006400750063007400560065007200730069006F006E00000031002E0030002E0030002E003000000038000800010041007300730065006D0062006C0079002000560065007200730069006F006E00000031002E0030002E0030002E003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000C000000643400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 
-- WITH PERMISSION_SET = SAFE 
-- WITH PERMISSION_SET = EXTERNAL_ACCESS 
WITH PERMISSION_SET = UNSAFE 
; 




CREATE FUNCTION dbo.DelayedSelect()  
RETURNS TABLE (RowNum int, YourColumn int, OtherColumn NVARCHAR(100))  
EXTERNAL NAME DelayedRowFunctionAssembly
.[DelayedRowFunctionAssembly.DelayedRowFunction]
.DelayedSelect;
;  


SELECT *
FROM dbo.DelayedSelect();


-- DROP FUNCTION dbo.DelayedSelect
